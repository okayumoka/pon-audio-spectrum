<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>Audio Spectrum</title>
</head>

<body>
  <!-- <canvas id="canvas" width="400" height="300" style="border: solid 1px gray;"></canvas> -->
  <div id="target" style="border: solid 1px red"></div>
  <button id="play">PLAY</button>
  <button id="stop">STOP</button>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.js"></script>
  <script src="pon-audio-spectrum.js"></script>
  <script>
const sound = new Howl({
  src: "./audio.mp3",
  autoplay: false
});
const pas = new PonAudioSpectrum(PonAudioVisualiserType.Solid, {
  // barWidth: 20,
  // barHeight: 500,
  // barColors: ["#0000FF", "#FF0000", "#00FF00"],
  // barGradientStops: [0.0, 0.3, 1.0]
});
pas.setAudio(sound);
document.querySelector("#target").appendChild(pas.canvas);
setInterval(() => {
  pas.draw();
}, 1 / 60);

document.querySelector("#play").addEventListener('click', () => {
  sound.stop();
  sound.play();
});

document.querySelector("#stop").addEventListener('click', () => {
  sound.stop();
});
  </script>
</body>

</html>